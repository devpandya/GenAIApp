"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[315],{1315:function(e,l,i){i.r(l),i.d(l,{default:function(){return D}});var n=i(9019),o=i(7076),t=i(9099),d=i(7313),r=i(3306),a=i(4374),u=i(5685),s=i(4268),v=i(4758);const c=(e,l)=>null!==e&&void 0!==e&&e.placeholders&&null!==e&&void 0!==e&&e.placeholders[l]?null===e||void 0===e?void 0:e.placeholders[l]:l,p="select",h="textarea",x="autoComplete",m="file",g="hidden",y="checkbox",b="radio";var f=i(6417);var k=e=>{let{initialFields:l,buttons:i=[],loading:k=!1,children:j,translations:Z}=e;const[C,P]=d.useState(l),F=d.useRef(C);(0,d.useEffect)((()=>{(null===l||void 0===l?void 0:l.length)>0&&P(l)}),[l]);const w=(e,l,i)=>{P((n=>{const o=n.findIndex((l=>l.key===e)),t=[...n];return t[o]={...t[o],[l]:i},t}))},I=(e,l)=>{let{target:i}=e;P((e=>{const n=e.findIndex((e=>e.key===l.key)),o=[...e];return o[n]={...o[n],value:i.value,error:""},F.current=o,o}))},S=async(e,l)=>{if(!e||(()=>{let e=!0;return F.current.forEach((l=>{var i,n,o,t;!l.required||null!==(i=l.value)&&void 0!==i&&i.trim()?(null===l||void 0===l||null===(n=l.validations)||void 0===n?void 0:n.length)>0?null===l||void 0===l||null===(o=l.validations)||void 0===o||o.forEach((i=>{const n=i(l);n?(w(l.key,"error",((e,l)=>null!==e&&void 0!==e&&e.messages&&null!==e&&void 0!==e&&e.messages[l]?null===e||void 0===e?void 0:e.messages[l]:l)(Z,n)),e=!1):w(l.key,"error","")})):w(l.key,"error",""):(w(l.key,"error",`${c(Z,null===(t=l.label)||void 0===t?void 0:t.text)} ${c(Z,"is required")}`),e=!1)})),e})()){let e={};null===C||void 0===C||C.map((l=>{var i;return e[l.key]=l.value||(null===(i=F.current.find((e=>e.key===l.key)))||void 0===i?void 0:i.value)})),l(e)}},E=e=>{var l,i,n,d,k,j,C,P;switch(e.type){case m:return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.Z,{htmlFor:`upload_${e.key}`,sx:{mb:1},children:c(Z,e.placeholder)}),(0,f.jsxs)(t.Z,{id:`upload_${e.key}`,variant:"contained",component:"label",children:[c(Z,"UPLOAD_FILE"),(0,f.jsx)("input",{type:"file",hidden:!0,onChange:e.onChange})]})]});case p:case x:return(0,f.jsx)(a.Z,{placeholder:c(Z,e.placeholder),helperText:null!==e&&void 0!==e&&e.error?null===e||void 0===e?void 0:e.error:"",isLabelIconVisible:!(null===e||void 0===e||null===(l=e.label)||void 0===l||!l.onIconClick),label:null===e||void 0===e||null===(i=e.label)||void 0===i?void 0:i.text,onChange:l=>I(l,e),size:"small",optionKey:"label",options:null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.map((e=>({id:e.value,label:e.label}))),sx:{width:"100%"},value:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:""});case g:return(0,f.jsx)(f.Fragment,{});case h:return(0,f.jsx)(o.Z,{type:"multiline",required:e.required,placeholder:c(Z,e.placeholder),value:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"",style:{backgroundColor:"white"},fullWidth:!0,error:!(null===e||void 0===e||!e.error),helperText:null!==e&&void 0!==e&&e.error?null===e||void 0===e?void 0:e.error:"",onChange:l=>I(l,e),size:"small"});case b:return(0,f.jsx)(u.Z,{label:null===e||void 0===e||null===(d=e.label)||void 0===d?void 0:d.text,name:"radio-button-group",onChange:l=>I(l,e),value:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"",children:null===e||void 0===e||null===(k=e.options)||void 0===k?void 0:k.map((e=>(0,f.jsx)(s.Z,{value:e.value,label:e.label},e.label)))});case y:return(0,f.jsx)(v.Z,{onChange:l=>I(l,e),label:null===e||void 0===e||null===(j=e.label)||void 0===j?void 0:j.text});default:return(0,f.jsx)(o.Z,{label:null===e||void 0===e||null===(C=e.label)||void 0===C?void 0:C.text,required:e.required,placeholder:c(Z,e.placeholder||(null===e||void 0===e||null===(P=e.label)||void 0===P?void 0:P.text)),value:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" ",style:{backgroundColor:"white"},fullWidth:!0,error:!(null===e||void 0===e||!e.error),helperText:null!==e&&void 0!==e&&e.error?null===e||void 0===e?void 0:e.error:"",type:e.type?e.type:"text",onChange:l=>I(l,e),size:"small"})}},_=()=>null===C||void 0===C?void 0:C.map((e=>{const l=e.size?e.size:{lg:"6",md:"6",xs:"12"};return(0,f.jsx)(n.ZP,{item:!0,...l,className:"formFieldsWrapper",children:E(e)},null===e||void 0===e?void 0:e.key)})),z=(0,d.useCallback)((()=>null===i||void 0===i?void 0:i.map((e=>(0,f.jsx)(t.Z,{id:e.key,onClick:()=>S(null===e||void 0===e?void 0:e.validateFields,e.onClick),disabled:k||e.disabled,color:e.color,variant:e.variant,children:c(Z,e.label)},e.key)))),[i,c,k,S]),[q,A]=d.useState({fields:_,buttons:z});return(0,d.useEffect)((()=>{A({fields:_,buttons:z})}),[_,z,A]),null===j||void 0===j?void 0:j.map((e=>d.cloneElement(e,{children:null!==e&&void 0!==e&&e.key&&q[null===e||void 0===e?void 0:e.key]?q[null===e||void 0===e?void 0:e.key]():e})))},j=i(8564),Z=i(1113);const C=(0,j.ZP)(n.ZP)((()=>({display:"flex",height:"63px",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",gap:"20px",padding:"0px 24px",alignSelf:"stretch",borderBottom:"1px solid #E5E5E5"}))),P=(0,j.ZP)(n.ZP)((()=>({borderRadius:"6px",background:"#FFFFFF",display:"flex",paddingBottom:"0px",flexDirection:"column",alignItems:"flex-start",gap:"0px",marginBottom:"24px"}))),F=(0,j.ZP)(n.ZP)((()=>({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"5px",padding:"0px 24px",alignSelf:"stretch",width:"100%"}))),w=(0,j.ZP)(Z.Z)((e=>{let{theme:l}=e;return{fontSize:"14px",fontWeight:600,color:l.palette.text.primary,lineHeight:"20px",fontStyle:"normal"}})),I=e=>{let{id:l,title:i,children:o,className:t}=e;return(0,f.jsxs)(P,{id:l,sx:{width:"100%"},children:[(0,f.jsx)(C,{children:(0,f.jsx)(n.ZP,{children:(0,f.jsx)(w,{children:i})})}),(0,f.jsx)(F,{className:t,children:o})]})};I.defaultProps={info:!1,className:""};var S=I,E=i(6573);const{string:_}=i(5192),z=E.Z.create({baseURL:"https://916ozy0t8b.execute-api.eu-west-1.amazonaws.com/Prod/api/PersonAI",timeout:1e3}),q=(e,l)=>{const i={};return e.forEach(((e,n)=>{i[e]=l[n]})),i},A=e=>{const l=[];return e.forEach((e=>{var i;if("email"===(null===e||void 0===e?void 0:e.trim())&&l.push((e=>{let{value:l}=e;return null!==l&&void 0!==l&&l.includes("@")?void 0:"Invalid email"})),null!==e&&void 0!==e&&null!==(i=e.trim())&&void 0!==i&&i.includes("range")){var n,o,t,d;const i=null===e||void 0===e||null===(n=e.trim())||void 0===n||null===(o=n.split("range")[1])||void 0===o?void 0:o.split("-")[0],r=null===e||void 0===e||null===(t=e.trim())||void 0===t||null===(d=t.split("range")[1])||void 0===d?void 0:d.split("-")[1];l.push(((e,l)=>i=>{let{value:n}=i;return parseInt(n)>=e&&parseInt(n)<=l?void 0:"Invalid range"})(parseInt(i),parseInt(r)))}"uppercase"===(null===e||void 0===e?void 0:e.trim())&&l.push((e=>{let{value:l}=e;return(null===l||void 0===l?void 0:l.toUpperCase())===l?void 0:"Please enter every letter in uppercase"}))})),l},W=async e=>{const l=(e=>e.split("\n")[0].split("\t"))(e),i=((e,l)=>{const i=l.split("\n"),n=[];for(let o=1;o<i.length;o++)n.push(q(e,i[o].split("\t")));return n})(l,e),n=i[0][l[0]];return{locFields:null===i||void 0===i?void 0:i.map((e=>{var l,i,n;const o=null===e||void 0===e||null===(l=e.Validation)||void 0===l||null===(i=l.split(","))||void 0===i?void 0:i.filter((e=>"required"!==(null===e||void 0===e?void 0:e.trim()))),t=null===e||void 0===e||null===(n=e.Validation)||void 0===n?void 0:n.includes("required"),d=(null===e||void 0===e?void 0:e.DataType)||"text";return{id:(null===e||void 0===e?void 0:e.Id)||(null===e||void 0===e?void 0:e.Field),key:(null===e||void 0===e?void 0:e.Id)||(null===e||void 0===e?void 0:e.Field),label:{text:null===e||void 0===e?void 0:e.Field},placeholder:null===e||void 0===e?void 0:e.Field,required:t,value:null===e||void 0===e?void 0:e.id,type:d,variant:"outlined",fullWidth:!0,validations:o&&A(o)}})),pgTitle:n}},B={id:"sample-page",title:"Generated Page",loading:!1};var D=()=>{const{id:e,title:l,loading:i}=B,[r,a]=(0,d.useState)([]),[u,s]=(0,d.useState)(""),[v,c]=(0,d.useState)([]),[p,h]=(0,d.useState)(""),[x,m]=(0,d.useState)(0),g=((0,d.useCallback)((async()=>{const e=await(async()=>{const e=await z.get("/GetAllValues");return null===e||void 0===e?void 0:e.data})();c(e),console.log("list",e)}),[]),[{id:"submit",key:"submit",label:"Submit",type:"submit",variant:"contained",color:"primary",validateFields:!0,onClick:async e=>{let l=x;var i;x||(l=null!==v&&void 0!==v&&v.length?(null===(i=v[v.length-1])||void 0===i?void 0:i.key)+1:1);c([...v,{key:l,value:e}]),a([...r])}}]),y=[{id:"back",key:"back",label:"Back",variant:"contained",color:"secondary",onClick:e=>{a([])}},{id:"reset",key:"reset",label:"Reset",variant:"contained",color:"secondary",onClick:e=>{a([]),c([]),s("")}}];var b,j;return null!==r&&void 0!==r&&r.length?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(S,{id:e,title:p,children:(0,f.jsxs)(k,{initialFields:r,loading:i,buttons:[...g,...y],children:[(0,f.jsx)(n.ZP,{container:!0,spacing:"20",sx:{my:2}},"fields"),(0,f.jsx)(n.ZP,{container:!0,spacing:"20",gap:2,p:2,sx:{my:2}},"buttons")]})}),v.length?(0,f.jsxs)(n.ZP,{container:!0,flexDirection:"column",justifyContent:"flex-end",p:2,gap:2,pb:3,sx:{backgroundColor:"#fff",borderRadius:"8px"},children:[(0,f.jsx)(n.ZP,{container:!0,justifyContent:"space-between",p:2,gap:2,children:(null===v||void 0===v?void 0:v.length)&&(null===(b=Object.keys(null===(j=v[0])||void 0===j?void 0:j.value))||void 0===b?void 0:b.map((e=>{var l;return(0,f.jsx)(n.ZP,{width:parseInt(100/Object.keys(null===(l=v[0])||void 0===l?void 0:l.value).length)-2+"%",sx:{textAlign:"center",fontWeight:"bold",fontSize:"10px"},children:e},e)})))}),(0,f.jsx)(n.ZP,{item:!0,sx:{borderBottom:"1px solid #dedede"}}),null===v||void 0===v?void 0:v.map(((e,l)=>(0,f.jsx)(n.ZP,{container:!0,justifyContent:"space-between",p:2,gap:2,sx:{borderBottom:"1px solid #dedede"},children:Object.keys(null===e||void 0===e?void 0:e.value).map((l=>(0,f.jsx)(n.ZP,{width:parseInt(100/Object.keys(null===e||void 0===e?void 0:e.value).length)-2+"%",onClick:()=>m(null===e||void 0===e?void 0:e.key),sx:{cursor:"pointer"},style:{backgroundColor:x===(null===e||void 0===e?void 0:e.key)?"lightblue":"white",textAlign:"center",fontSize:"10px"},children:null===e||void 0===e?void 0:e.value[l]},l)))},null===e||void 0===e?void 0:e.id)))]}):null]}):(0,f.jsx)(n.ZP,{container:!0,children:(0,f.jsx)(S,{id:"textArea",title:"Add comma seperated keywords to generate a form",children:(0,f.jsxs)(n.ZP,{container:!0,justifyContent:"flex-end",p:2,gap:2,children:[(0,f.jsx)(o.Z,{type:"text",multiline:!0,rows:4,fullWidth:!0,placeholder:"Enter comma seperated values",value:u,onChange:e=>{let{target:l}=e;return s(null===l||void 0===l?void 0:l.value)}}),(0,f.jsx)(t.Z,{onClick:async()=>{var e;if(null!==u&&void 0!==u&&null!==(e=u.trim())&&void 0!==e&&e.length){const{locFields:e,pgTitle:l}=await(async e=>{const l=await W(e);return console.log(l),l})(null===u||void 0===u?void 0:u.trim());h(l),a(e)}else a([])},children:"Generate"})]})})})}}}]);